(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{178:function(e,t,a){e.exports=a(311)},311:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(5),c=a(7),s=a(6),l=a(8),i=a(1),o=a.n(i),m=a(62),d=a.n(m),u=a(168),h=a.n(u),p=a(79),v=a(167),f=a(78),g=a(123),b=a(122),E=a.n(b),N=a(20),O=a.n(N),y=a(63),C=a(16),j=a(51),k=a(3),w=a(170),S=a.n(w),x=a(82),F=a.n(x),A=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).onKeyDown=function(e){27===e.keyCode?a.props.closeCallback(e):13===e.keyCode&&(window.location.href="/products?q="+a.state.search)},a.state={escClose:!1,search:"",hitSearch:!1},a.handleSearch=a.handleSearch.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleSearch",value:function(e){this.setState({search:e.currentTarget.value})}},{key:"render",value:function(){var e=this.props,t=e.isOpen,a=e.closeCallback;return t?document.addEventListener("keydown",this.onKeyDown,!1):document.removeEventListener("keydown",this.onKeyDown,!1),o.a.createElement("div",null,o.a.createElement(S.a,{top:!0,duration:500,when:t},o.a.createElement("div",{id:"search",className:"v-and-h-centered"+(t?" open":"")},o.a.createElement(F.a,{clear:!0,duration:500,when:t},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"fdb-search-bar"},o.a.createElement("div",{className:"v-and-h-centered"},o.a.createElement("input",{type:"text",placeholder:"Search",onChange:this.handleSearch,className:"search-input"})),o.a.createElement(C.a,{className:"close big-btn",onClick:a}),o.a.createElement("span",{className:"search-tip"},"Hit enter to search or esc to close")))))),o.a.createElement(O.a,{clear:!0,duration:500,when:t},o.a.createElement("div",{className:"overlay search-overlay"+(t?"":" hide"),onClick:a})))}}]),t}(i.Component),_=a(171),T=a.n(_),D=Object(i.createContext)({authenticated:null,signup:function(){},login:function(){},logout:function(){}}),I=D.Provider,L=D.Consumer,z=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).onKeyDown=function(e){27===e.keyCode&&a.props.closeCallback(e)},a.onLogoutClick=function(e){a.props.closeCallback(),e()},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.menuOpen,n=t.closeCallback;return a?document.addEventListener("keydown",this.onKeyDown,!1):document.removeEventListener("keydown",this.onKeyDown,!1),o.a.createElement(L,null,function(t){var r=t.authenticated,c=t.logout;return o.a.createElement(T.a,{className:"fdb-drawer-menu",innerClassName:"drawer-menu-inner",outerClassName:"drawer-menu-outer",overlayClassName:"overlay",isOpen:a,transitionTime:.5,width:500,closeCallback:n},o.a.createElement(O.a,{clear:!0,when:a},o.a.createElement("div",{className:"drawer-menu-content v-and-h-centered"},o.a.createElement(C.a,{className:"full-pg-close big-btn",onClick:n}),o.a.createElement("div",{className:"menu-items"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(y.a,{to:"/",onClick:n},"Home")),o.a.createElement("li",null,o.a.createElement(y.a,{to:"/products",onClick:n},"SQDC products")),o.a.createElement("li",{role:"separator",className:"divider"})),r?o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(y.a,{to:"/my-account",onClick:n},"My account")),o.a.createElement("li",null,o.a.createElement(y.a,{to:"/",onClick:function(){return e.onLogoutClick(c)}},"Log out"))):o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(y.a,{to:{pathname:"/authenticate",state:{showSignupForm:!0}},onClick:n},"Sign up")),o.a.createElement("li",null,o.a.createElement(y.a,{to:"/authenticate",onClick:n},"Log in")))))))})}}]),t}(i.Component),R=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).toggleSearch=function(e){e.preventDefault(),a.setState({searchOpen:!a.state.searchOpen})},a.toggleMenu=function(e){a.setState({menuOpen:!a.state.menuOpen})},a.state={isSticky:!1,menuOpen:!1,searchOpen:!1},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll.bind(this),!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll.bind(this))}},{key:"handleScroll",value:function(){window.pageYOffset<=125?this.setState({isSticky:!1}):window.pageYOffset>=125&&this.setState({isSticky:!0})}},{key:"render",value:function(){var e=this.state,t=e.isSticky,a=e.menuOpen,n=e.searchOpen;return o.a.createElement("div",{id:"feedbuzz-header"},o.a.createElement("header",{className:"fdb-header"+(t?" sticky":"")},o.a.createElement("nav",{className:"container fdb-navbar",role:"navigation","aria-label":"main navigation"},o.a.createElement("div",{className:"fdb-navbar-items-start"},o.a.createElement("div",{className:"v-and-h-centered fdb-navbar-item"},o.a.createElement("button",{className:"v-and-h-centered",href:"#",onClick:this.toggleMenu},o.a.createElement(C.c,{className:"fdb-navbar-icon"})))),o.a.createElement("div",{className:"fdb-navbar-brand"},o.a.createElement(y.a,{className:"logo",to:"/"},o.a.createElement("img",{src:"/img/feedbuzz_logo_small_cropped.png",alt:"FeedBuzz"}))),o.a.createElement("div",{className:"fdb-navbar-items-end"},o.a.createElement("div",{className:"v-and-h-centered fdb-navbar-item"},o.a.createElement(y.a,{className:"v-and-h-centered",to:"",onClick:this.toggleSearch},o.a.createElement(j.a,{className:"fdb-navbar-icon"}))))),o.a.createElement(z,{menuOpen:a,closeCallback:this.toggleMenu})),o.a.createElement(A,{isOpen:n,closeCallback:this.toggleSearch}))}}]),t}(i.Component),M=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"fdb-footer"},o.a.createElement("h1",{className:"height-teen-tag"},"18+"),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column"},o.a.createElement("h1",{className:"section-title"},"Feedbuzz"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.sqdc.ca"},"SQDC Website")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.sqdc.ca/en-CA/about-the-sqdc/frequently-asked-questions"},"SQDC FAQ")))),o.a.createElement("div",{className:"column"},o.a.createElement("h1",{className:"section-title"},"Menu"),o.a.createElement("div",{className:"footer-menu"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(y.a,{to:"/"},"Home")),o.a.createElement("li",null,o.a.createElement(y.a,{to:"/products"},"SQDC Products"))))),o.a.createElement("div",{className:"column"},o.a.createElement("h1",{className:"section-title"},"Contact"),o.a.createElement("div",{className:"footer-menu"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(y.a,{to:"/"},"Contact us")),o.a.createElement("li",null,o.a.createElement(y.a,{to:"/products"},"About us"))))))))}}]),t}(i.Component),P=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"feedbuzz-master"},o.a.createElement(R,null),o.a.createElement("div",{id:"feedbuzz-body"},this.props.children,o.a.createElement(M,null)))}}]),t}(i.Component),H=a(52),B=a.n(H),q=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={product:{img:"img/test-product.png",name:"Blue Dream",rating:4.78,nb_reviews:297,effects:[{name:"Creative",value:50},{name:"Relaxed",value:48},{name:"Energic",value:26},{name:"Focused",value:15}],description:"Blue Dream, a sativa-dominant hybrid originating in California, has achieved legendary status among West Coast strains.",flavors:["Blueberry","Berry","Sweet"],uri:"blue-dream"}},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.product,t=e.flavors.map(function(e){return o.a.createElement("li",{key:e},e)}),a=e.effects.map(function(e){return o.a.createElement("li",{key:e.name},o.a.createElement("div",{className:"v-and-h-centered"},o.a.createElement("h1",{className:"effect-title"},e.name),o.a.createElement("progress",{className:"progress",value:e.value,max:"100"})))});return o.a.createElement("div",{className:"highest-rated-product"},o.a.createElement("div",{className:"has-text-centered"},o.a.createElement("h1",{className:"container-title"},"Highest rated products!")),o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column product-image is-one-quarter"},o.a.createElement(y.a,{to:"#"},o.a.createElement("img",{className:"image",alt:"product",src:e.img}))),o.a.createElement("div",{className:"column"},o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column v-and-h-centered product-header"},o.a.createElement(y.a,{to:"#"},o.a.createElement("h1",{className:"product-title"},e.name)),o.a.createElement("div",{className:"product-rating"},o.a.createElement(B.a,{rating:2.403,starRatedColor:"gold",starDimension:"25px",starSpacing:""})),o.a.createElement("h1",{className:"product-reviews"},e.nb_reviews," reviews"))),o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column is-one-fifth"},o.a.createElement("h1",{className:"product-flavor-title section-title"},"Flavors"),o.a.createElement("ul",{className:"product-flavors"},t)),o.a.createElement("div",{className:"column"},o.a.createElement("h1",{className:"product-effect-title section-title"},"Common effects"),o.a.createElement("ul",{className:"product-effects"},a)),o.a.createElement("div",{className:"column"},o.a.createElement("h1",{className:"product-effect-title section-title"},"Description"),o.a.createElement("p",null,e.description))))))}}]),t}(i.Component),U=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={search_term:""},a.handleSearchChange=a.handleSearchChange.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleSearchChange",value:function(e){this.setState({search_term:e.currentTarget.value})}},{key:"render",value:function(){var e="/products?q="+this.state.search_term;return o.a.createElement("div",{className:"home-page-content"},o.a.createElement("div",{className:"hero banner v-and-h-centered"},o.a.createElement("h1",{className:"home-banner-title"},"Find SQDC's products you loved and rate them!"),o.a.createElement(F.a,{clear:!0},o.a.createElement("div",{className:"home-banner-input-container v-and-h-centered"},o.a.createElement("input",{type:"text",className:"home-banner-input",onChange:this.handleSearchChange,placeholder:"What are you looking for?"}),o.a.createElement(y.a,{className:"search-btn v-and-h-centered",to:e},o.a.createElement("div",{className:"b-input-icon-wrapper v-and-h-centered"},o.a.createElement(j.a,{className:"fdb-navbar-icon"}))))),o.a.createElement("h1",{className:"home-banner-title spacer"},"spacer")),o.a.createElement("div",{className:"highest-rated-product-container container"},o.a.createElement(q,null)),o.a.createElement("div",{className:"all-products"},o.a.createElement(y.a,{to:"/products",className:"button bg-color-trans"},"View all products")))}}]),t}(i.Component),W=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("h1",null,"Page not found for : ",this.props.location.pathname)}}]),t}(i.Component),G=a(172),J=a(9),K=a.n(J),Q=a(10),Y=a(194),V=a(36),Z=a(35),$=Y.create();$.defaults.baseURL=window.baseURL,$.defaults.headers.post["Content-Type"]="application/json",V.getAccessToken()&&($.defaults.headers.common.Authorization="Bearer "+V.getAccessToken());var X=function(e){e?$.defaults.headers.common.Authorization="Bearer "+e:delete Y.defaults.headers.common.Authorization};function ee(){return te.apply(this,arguments)}function te(){return(te=Object(Q.a)(K.a.mark(function e(){return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$.get("/auth/verify").catch(function(){var e=Object(Q.a)(K.a.mark(function e(t){var a;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("VERIFY (refresh token) : "+V.getRefreshToken()),console.log("VERIFY (access token): "+V.getAccessToken()),console.log(t.response),"InvalidToken"!==t.response.data.exception){e.next=10;break}return e.next=6,$.post("/auth/refresh",{refresh_token:V.getRefreshToken()});case 6:a=e.sent,console.log("REFRESH (access token): "+V.getAccessToken()),V.updateAccessToken(a.data.access_token),X(V.getAccessToken());case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ae=function(){var e=Object(Q.a)(K.a.mark(function e(t){var a;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return e.next=4,$.get("/api/rating/user/"+t);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(Q.a)(K.a.mark(function e(t){var a;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return e.next=4,$.post("/api/rating",t);case 4:return a=e.sent,e.abrupt("return",a.success);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(Q.a)(K.a.mark(function e(t){var a;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return e.next=4,$.put("/api/user",t);case 4:return a=e.sent,Z.getStorage().setItem("usr_info",JSON.stringify(a.data.me)),e.abrupt("return",a.data.me);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(Q.a)(K.a.mark(function e(){var t;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return e.next=4,$.get("/auth/me");case 4:return t=e.sent,e.abrupt("return",t.data.me);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),se=a(36),le=a.n(se),ie=a(35),oe=a.n(ie),me=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(c.a)(this,Object(s.a)(t).call(this,e));var r=oe.a.getStorage().getItem("usr_info");return a.state=r?{authenticated:a.isAuthenticated(),user:JSON.parse(r)}:{authenticated:!1},a.checkAuthentication=a.checkAuthentication.bind(Object(k.a)(Object(k.a)(a))),a.login=a.login.bind(Object(k.a)(Object(k.a)(a))),a.signup=a.signup.bind(Object(k.a)(Object(k.a)(a))),a.logout=a.logout.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"checkAuthentication",value:function(){var e=Object(Q.a)(K.a.mark(function e(){var t,a;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.isAuthenticated(),console.log(t),console.log(this.state.authenticated),t===this.state.authenticated){e.next=9;break}return e.next=6,ce();case 6:a=e.sent,oe.a.getStorage().setItem("usr_info",JSON.stringify(a)),this.setState({authenticated:t,user:a});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(Q.a)(K.a.mark(function e(){return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAuthentication();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(Q.a)(K.a.mark(function e(){return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAuthentication();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isAuthenticated",value:function(){return!!le.a.getAccessToken()||!!le.a.getRefreshToken()}},{key:"login",value:function(){var e=Object(Q.a)(K.a.mark(function e(t,a){var n,r,c,s;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.post("/auth",{email:t,password:a});case 2:if(n=e.sent,r=n.data.access_token,c=n.data.refresh_token,!r||!c){e.next=14;break}return X(r),le.a.updateAccessToken(r),le.a.updateRefreshToken(c),e.next=11,ce();case 11:s=e.sent,oe.a.getStorage().setItem("usr_info",JSON.stringify(s)),this.setState({authenticated:!0,user:s});case 14:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(Q.a)(K.a.mark(function e(t,a,n,r){return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.post("/api/user/signup",{email:n,name:t,username:a,password:r});case 2:e.sent.data.success&&this.login(n,r);case 4:case"end":return e.stop()}},e,this)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"logout",value:function(){X(""),le.a.clearTokens(),oe.a.getStorage().setItem("usr_info",null),this.setState({authenticated:!1})}},{key:"render",value:function(){var e=Object(G.a)({},this.state,{login:this.login,signup:this.signup,logout:this.logout});return o.a.createElement(I,{value:e},this.props.children)}}]),t}(i.Component),de=a(166),ue=a(21),he=a(173),pe=a.n(he),ve=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).evaluatePWStrenght=function(e){var t=e.currentTarget.value;a.setState({score:""===t?"null":pe()(t).score}),a.props.onChange(e)},a.onShowHide=function(e){var t=a.state.type;a.setState({type:"input"===t?"password":"input"})},a.renderStrengthBar=function(){return a.props.pwStrength?o.a.createElement("span",{className:"pw-input-strength","data-score":a.state.score}):""},a.state={type:"password",score:"null"},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,a=e.name,n=e.value;return o.a.createElement("div",{className:"sh-pw-input-container field"},o.a.createElement("div",{className:"control"},o.a.createElement("input",{name:a,type:this.state.type,placeholder:t||"password",value:n,className:"input",onChange:this.evaluatePWStrenght}),o.a.createElement("div",{className:"sh-icon-wrapper v-and-h-centered",onClick:this.onShowHide},o.a.createElement("span",{className:"icon pw-input-show bg-color-trans"},"input"===this.state.type?o.a.createElement(C.d,null):o.a.createElement(C.e,null)))),this.renderStrengthBar())}}]),t}(i.Component),fe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={email:"",password:"",error:""},a.handleSubmit=a.handleSubmit.bind(Object(k.a)(Object(k.a)(a))),a.handleChange=a.handleChange.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(ue.a)({},e.currentTarget.name,e.currentTarget.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.email,n=t.password;a&&n&&this.props.handleLogin(a,n)}},{key:"render",value:function(){return o.a.createElement("div",{className:"login-form-container has-text-centered"},o.a.createElement("h3",{className:"title is-4"},"Log into Feedbuzz to start giving feedback"),o.a.createElement("div",{className:"link"},o.a.createElement(y.a,{to:"",onClick:this.props.onSwitch},"Don't have an account?")),o.a.createElement("form",{className:"auth-form",onSubmit:this.handleSubmit},o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("input",{className:"input",type:"text",name:"email",placeholder:"Email",onChange:this.handleChange}))),o.a.createElement(ve,{pwStrength:!1,name:"password",onChange:this.handleChange}),o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("button",{className:"button bg-color-trans",type:"submit"},"Log in")))),o.a.createElement("div",{className:"link"},o.a.createElement(y.a,{to:"/forgot-password"},"Forgot your password?")))}}]),t}(i.Component),ge=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(ue.a)({},e.currentTarget.name,e.currentTarget.value))},a.state={name:"",username:"",email:"",password:"",confirmpassword:"",error:""},a.handleSubmit=a.handleSubmit.bind(Object(k.a)(Object(k.a)(a))),a.handleChange=a.handleChange.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.name,n=t.username,r=t.email,c=t.password,s=t.confirmpassword;a&&n&&r&&c&&s&&c===s&&this.props.handleSignup(a,n,r,c)}},{key:"render",value:function(){return o.a.createElement("div",{className:"signup-form-container has-text-centered"},o.a.createElement("h3",{className:"title is-4"},"Create your Feedbuzz account to start giving feedback!"),o.a.createElement("div",{className:"link"},o.a.createElement(y.a,{to:"",onClick:this.props.onSwitch},"Already have an account?")),o.a.createElement("form",{className:"auth-form",onSubmit:this.handleSubmit},o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("input",{className:"input",type:"text",name:"name",placeholder:"Name",onChange:this.handleChange}))),o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("input",{className:"input",type:"text",name:"username",placeholder:"Username",onChange:this.handleChange}))),o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("input",{className:"input",type:"text",name:"email",placeholder:"Email",onChange:this.handleChange}))),o.a.createElement(ve,{pwStrength:!0,name:"password",onChange:this.handleChange}),o.a.createElement(ve,{pwStrength:!0,name:"confirmpassword",onChange:this.handleChange,placeholder:"Confirm password"}),o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("button",{className:"button bg-color-trans",type:"submit"},"Register")))))}}]),t}(i.Component),be=function(e){function t(e){var a;Object(n.a)(this,t);var r=!0;return(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).props.location.state&&a.props.location.state.showSignupForm&&(r=!1),a.state={showLoginForm:r,closed:!1},a.onSwitch=a.onSwitch.bind(Object(k.a)(Object(k.a)(a))),a.onClose=a.onClose.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"onSwitch",value:function(e){e.preventDefault(),e.nativeEvent.stopImmediatePropagation();var t=this.state.showLoginForm;this.setState({showLoginForm:!t})}},{key:"onClose",value:function(e){this.setState({closed:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.showLoginForm,n=t.closed,r=this.props.lastLocation?this.props.lastLocation:{pathname:"/"};return o.a.createElement(L,null,function(t){var c=t.authenticated,s=t.login,l=t.signup;return c||n?o.a.createElement(de.a,{to:c?r.pathname:"/"}):o.a.createElement("div",{className:"auth-content section"},o.a.createElement("div",{className:"header has-text-centered"},o.a.createElement(y.a,{to:"/"},o.a.createElement("img",{className:"feedbuzz-icon",alt:"Feedbuzz",src:"img/feedbuzz_logo_small_cropped.png"})),o.a.createElement(C.a,{className:"full-pg-close big-btn bg-color-trans",onClick:e.onClose})),a?o.a.createElement(fe,{onSwitch:e.onSwitch,handleLogin:s}):o.a.createElement(ge,{onSwitch:e.onSwitch,handleSignup:l}))})}}]),t}(i.Component),Ee=Object(p.withLastLocation)(be),Ne=a(177),Oe=a(83),ye=a.n(Oe),Ce=function(e){function t(e){return Object(n.a)(this,t),Object(c.a)(this,Object(s.a)(t).call(this,e))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"section-title"},"Favorites")}}]),t}(i.Component),je=a(84),ke=a.n(je),we=function(e){function t(e){var a;Object(n.a)(this,t);var r=(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).props.user;return a.state={user_id:r.user_id,data:[],isLoading:!0},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Q.a)(K.a.mark(function e(){var t;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(this.state.user_id);case 2:t=e.sent,console.log(t),this.setState({data:t,isLoading:!1});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.data.map(function(e){return o.a.createElement(O.a,null,o.a.createElement("li",{key:e.id,className:"my-reviews-listing-item"},o.a.createElement(y.a,{to:"/product/"+e.product.id},o.a.createElement("div",{className:"product-img",style:{backgroundImage:"url("+e.product.image_url+")"}})),o.a.createElement("h1",{className:"review-info-title"},e.product.name),o.a.createElement("p",{className:"review-info-comment"},e.comment)))});return o.a.createElement("div",{className:"my-reviews"},o.a.createElement("div",{className:"section-title"},"My reviews"),o.a.createElement("div",{className:"my-reviews-listing-content"},t?o.a.createElement(ke.a,{className:"reviews-loader",type:"bubbles",color:"#20bd67",height:"90px",width:"90px"}):o.a.createElement("ul",{className:"my-reviews-listing-content"},a)))}}]),t}(i.Component),Se=a(85),xe=a.n(Se),Fe={NotificationItem:{DefaultStyle:{margin:"10px 5px 2px 1px"},success:{borderTop:"2px solid #20bd67",color:"white",backgroundColor:"#20bd67"}},Title:{success:{color:"white"}}},Ae=function(e){function t(e){var a;Object(n.a)(this,t);var r=(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).props.user;return a.state={name:r.name,username:r.username,email:r.email,gender:r.gender?r.gender:"Male",image_url:r.image_url,loading:!1},a.notificationSystem=o.a.createRef(),a.addNotification=a.addNotification.bind(Object(k.a)(Object(k.a)(a))),a.handleSave=a.handleSave.bind(Object(k.a)(Object(k.a)(a))),a.handleInputChange=a.handleInputChange.bind(Object(k.a)(Object(k.a)(a))),a.handleGenderChange=a.handleGenderChange.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this._notificationSystem=this.refs.notificationSystem}},{key:"addNotification",value:function(){this.notificationSystem.current.addNotification({title:"Success",message:"Your profile was successfully updated!",level:"success",dismissible:!1})}},{key:"handleInputChange",value:function(e){this.setState(Object(ue.a)({},e.currentTarget.name,e.currentTarget.value))}},{key:"handleGenderChange",value:function(e){this.setState({gender:e.currentTarget.value})}},{key:"handleSave",value:function(e){var t=this;this.setState({loading:!0});var a=this.state,n=a.name,r=a.username,c=a.gender,s=a.email;re({name:n,username:r,gender:c,email:s}).then(function(e){t.setState({loading:!1}),t.addNotification()})}},{key:"updateStateUserInfo",value:function(e){var t=this.state,a=t.name,n=t.username,r=t.gender,c=t.email;a&&n&&r&&c||this.setState({name:a,username:n,gender:r,email:c})}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.username,n=e.email,r=e.gender,c=e.loading;return o.a.createElement("div",{className:"my-profile"},o.a.createElement(xe.a,{ref:this.notificationSystem,style:Fe}),o.a.createElement("div",{className:"section-title"},"My Profile"),o.a.createElement("div",{className:"field is-horizontal"},o.a.createElement("div",{className:"field-label is-normal"},o.a.createElement("label",{className:"label"},"Name")),o.a.createElement("div",{className:"field-body"},o.a.createElement("div",{className:"field"},o.a.createElement("p",{className:"control"},o.a.createElement("input",{className:"input",onChange:this.handleInputChange,type:"text",name:"name",value:t,placeholder:"Name"}))))),o.a.createElement("div",{className:"field is-horizontal"},o.a.createElement("div",{className:"field-label is-normal"},o.a.createElement("label",{className:"label"},"Username")),o.a.createElement("div",{className:"field-body"},o.a.createElement("div",{className:"field"},o.a.createElement("p",{className:"control"},o.a.createElement("input",{className:"input",value:a,onChange:this.handleInputChange,type:"text",name:"username",placeholder:"Username"}))))),o.a.createElement("div",{className:"field is-horizontal"},o.a.createElement("div",{className:"field-label is-normal"},o.a.createElement("label",{className:"label"},"Email")),o.a.createElement("div",{className:"field-body"},o.a.createElement("div",{className:"field"},o.a.createElement("p",{className:"control"},o.a.createElement("input",{className:"input",onChange:this.handleInputChange,type:"text",name:"email",value:n,placeholder:"Email"}))))),o.a.createElement("div",{className:"field is-horizontal"},o.a.createElement("div",{className:"field-label is-normal"},o.a.createElement("label",{className:"label"},"Gender")),o.a.createElement("div",{className:"field-body"},o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("div",{className:"select"},o.a.createElement("select",{value:r,onChange:this.handleGenderChange},o.a.createElement("option",null,"Male"),o.a.createElement("option",null,"Female"),o.a.createElement("option",null,"Other"))))))),o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control is-clearfix"},o.a.createElement("button",{className:"button bg-color-trans "+(c?"is-loading":""),onClick:this.handleSave,type:"save"},"Save"))))}}]),t}(i.Component),_e=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={password:"",newpassword:"",confirmpassword:"",loading:!1},a.notificationSystem=o.a.createRef(),a.handleSave=a.handleSave.bind(Object(k.a)(Object(k.a)(a))),a.addNotification=a.addNotification.bind(Object(k.a)(Object(k.a)(a))),a.handleInputChange=a.handleInputChange.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this._notificationSystem=this.refs.notificationSystem}},{key:"addNotification",value:function(){this.notificationSystem.current.addNotification({title:"Success",message:"Your password was successfully updated!",level:"success",dismissible:!1})}},{key:"handleInputChange",value:function(e){this.setState(Object(ue.a)({},e.currentTarget.name,e.currentTarget.value))}},{key:"handleSave",value:function(e){this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1}),this.addNotification()}.bind(this),2e3)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.password,n=e.newpassword,r=e.confirmpassword;return o.a.createElement("div",{className:"my-settings"},o.a.createElement(xe.a,{ref:this.notificationSystem,style:Fe}),o.a.createElement("div",{className:"section-title"},"My Settings"),o.a.createElement("div",{className:"setting-pw-change"},o.a.createElement("div",{className:"sub-section-title"},"Change my password"),o.a.createElement("div",{className:"field is-horizontal"},o.a.createElement("div",{className:"field-label is-normal"},o.a.createElement("label",{className:"label"},"Current password")),o.a.createElement("div",{className:"field-body"},o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement(ve,{pwStrength:!1,name:"password",value:a,onChange:this.handleInputChange}))))),o.a.createElement("div",{className:"field is-horizontal"},o.a.createElement("div",{className:"field-label is-normal"},o.a.createElement("label",{className:"label"},"New password")),o.a.createElement("div",{className:"field-body"},o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement(ve,{pwStrength:!1,name:"newpassword",value:n,onChange:this.handleInputChange}))))),o.a.createElement("div",{className:"field is-horizontal"},o.a.createElement("div",{className:"field-label is-normal"},o.a.createElement("label",{className:"label"},"Confirm password")),o.a.createElement("div",{className:"field-body"},o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement(ve,{pwStrength:!1,name:"confirmpassword",value:r,onChange:this.handleInputChange}))))),o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control is-clearfix"},o.a.createElement("button",{className:"button bg-color-trans "+(t?"is-loading":""),onClick:this.handleSave,type:"save"},"Update my password")))))}}]),t}(i.Component),Te=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(c.a)(this,Object(s.a)(t).call(this,e));var r=ye.a.parse(a.props.location.search);return a.views={0:Ae,1:Ce,2:we,3:_e},a.menuItems=[{title:"My profile",component:0},{title:"My favorites",component:1},{title:"My reviews",component:2},{title:"My Settings",component:3}],a.state={component:void 0===r.view||r.view<0||r.view>3?0:parseInt(r.view),image_loading:!1,image_url:null},a.handleSectionChange=a.handleSectionChange.bind(Object(k.a)(Object(k.a)(a))),a.handleRealFileInputChange=a.handleRealFileInputChange.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleSectionChange",value:function(e){this.setState({component:parseInt(e.currentTarget.getAttribute("data-component"))})}},{key:"handleUploadImage",value:function(e){e.preventDefault(),document.getElementById("real-input").click()}},{key:"handleRealFileInputChange",value:function(e){if(e.currentTarget.files&&e.currentTarget.files[0]){var t=new FileReader,a=this;a.setState({image_loading:!0}),t.addEventListener("load",function(e){re({image:e.target.result.split(",")[1]}).then(function(e){a.setState({image_loading:!1,image_url:e.image_url})})}),t.readAsDataURL(e.currentTarget.files[0])}}},{key:"render",value:function(){var e=this,t=this.state,a=t.component,n=t.image_loading,r=t.image_url,c=this.views[a],s=this.menuItems.map(function(t){return o.a.createElement("li",{key:t.title,className:"account-menu-item "+(a===t.component?"active":""),"data-component":t.component,onClick:e.handleSectionChange},t.title)});return o.a.createElement(L,null,function(t){var a=t.user;return o.a.createElement("div",{className:"my-account-container container"},o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column is-one-quarter account-sidebar"},o.a.createElement("input",{type:"file",id:"real-input",onChange:e.handleRealFileInputChange}),o.a.createElement("button",{onClick:e.handleUploadImage,className:"browse-btn edit-user-image"},"Edit image"),o.a.createElement(Ne.a,{className:"user-image",round:!1,src:n?"img/loader.gif":a.image_url||r?(a.image_url||r)+"?t="+(new Date).getTime():"img/favicon.svg"}),o.a.createElement("ul",{className:"account-menu"},s)),o.a.createElement("div",{className:"column section-container"},o.a.createElement(c,{user:a}))))})}}]),t}(i.Component),De=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(c.a)(this,Object(s.a)(t).call(this,e));var r=ye.a.parse(a.props.location.search);return a.state={last_search:"",current_page:1,search:void 0===r.q?"":r.q,data:[],total:0,nb_pages:0,isLoading:!0},a.handleSearch=a.handleSearch.bind(Object(k.a)(Object(k.a)(a))),a.searchChange=a.searchChange.bind(Object(k.a)(Object(k.a)(a))),a.renderPaginator=a.renderPaginator.bind(Object(k.a)(Object(k.a)(a))),a.handlePageChange=a.handlePageChange.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Q.a)(K.a.mark(function e(){return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.state.search?this.fetch(this.state.search,0):this.fetchAll(0);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSearch",value:function(e){var t=this.state,a=t.search,n=t.last_search;a.trim()!==n.trim()&&(this.state.search.trim()?this.fetch(this.state.search.trim(),0):this.fetchAll(0))}},{key:"fetchAll",value:function(){var e=Object(Q.a)(K.a.mark(function e(t){var a;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/api/products/all?pageOffset="+t);case 2:a=e.sent,this.setState({last_search:"",current_page:t,total:a.data.total,data:a.data.products,nb_pages:Math.ceil(a.data.total/20),isLoading:!1});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetch",value:function(){var e=Object(Q.a)(K.a.mark(function e(t,a){var n;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/api/products/find/"+t+"?pageOffset="+a);case 2:n=e.sent,this.setState({last_search:this.state.search,current_page:a,total:n.data.total,nb_pages:Math.ceil(n.data.total/20),data:n.data.products,isLoading:!1});case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchChange",value:function(e){this.setState({search:e.currentTarget.value})}},{key:"handlePageChange",value:function(e){var t=parseInt(e.currentTarget.getAttribute("data-page"));this.state.last_search?this.fetch(this.state.last_search,t):this.fetchAll(t)}},{key:"renderPaginator",value:function(e,t){for(var a=Math.ceil(e/20),n=[],r=0;r<a;r++)n.push(o.a.createElement("li",{key:r},o.a.createElement("a",{class:"pagination-link"+(t==r?" is-current":""),onClick:this.handlePageChange,"data-page":r,"aria-label":"Go to page "+r},r+1)));return n}},{key:"render",value:function(){var e=this.state,t=e.search,a=e.data,n=e.total,r=e.current_page,c=e.nb_pages,s=e.isLoading,l="/products?q="+t;console.log(a);var i=a.map(function(e){return o.a.createElement(O.a,null,o.a.createElement("div",{key:e.id,className:"product-listing-item"},o.a.createElement("div",{className:"product-image-container"},o.a.createElement(y.a,{to:{pathname:"/product/"+e.id,state:{product:e}}},o.a.createElement("img",{src:e.image_url,alt:e.name}))),o.a.createElement("div",{className:"item-content"},o.a.createElement("div",{className:"product-info"},o.a.createElement("div",null,o.a.createElement("h1",{className:"product-name"},e.name),o.a.createElement("span",{className:"product-price"},"$",parseFloat(e.price[0].price).toFixed(2))),o.a.createElement("div",{className:"rating-info"},o.a.createElement(B.a,{rating:e.avg[0]?e.avg[0]:4,starRatedColor:"gold",starDimension:"15px",starSpacing:""}))),o.a.createElement(y.a,{className:"button",to:{pathname:"/product/review/"+e.id,state:{product:e}}},"Review"))))}),m=r-1,d=r+1,u={},h={};return m<0&&(u.disabled="disabled"),d>c-1&&(h.disabled="disabled"),o.a.createElement("div",{className:"product-listing-container container"},o.a.createElement("div",{className:"pl-input-container v-and-h-centered"},o.a.createElement("input",{type:"text",className:"pl-input",placeholder:"What are you looking for?",onChange:this.searchChange,value:t}),o.a.createElement(y.a,{className:"search-btn v-and-h-centered",to:l,onClick:this.handleSearch},o.a.createElement("div",{className:"b-input-icon-wrapper v-and-h-centered"},o.a.createElement(j.a,{className:"fdb-navbar-icon"})))),o.a.createElement("div",{className:"product-listing-content"},s?o.a.createElement(ke.a,{className:"product-loader",type:"bubbles",color:"#20bd67",height:"90px",width:"90px"}):0==a.length?o.a.createElement("h1",{className:"not-products"},"No products found!"):i),o.a.createElement("nav",{class:"pagination is-centered",role:"navigation","aria-label":"pagination"},o.a.createElement("a",Object.assign({class:"pagination-previous"},u,{onClick:this.handlePageChange,"data-page":m}),"Previous"),o.a.createElement("a",Object.assign({class:"pagination-next"},h,{onClick:this.handlePageChange,"data-page":d}),"Next page"),o.a.createElement("ul",{class:"pagination-list"},this.renderPaginator(n,r))))}}]),t}(i.Component),Ie=function(e){function t(e){var a;Object(n.a)(this,t);var r=(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).props.match.params.id;return a.state={product_id:r,product:null,reviews:[]},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Q.a)(K.a.mark(function e(){var t,a;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!this.props.location.state){e.next=6;break}t=this.props.location.state.product,e.next=10;break;case 6:return e.next=8,$.get("/api/products/"+this.state.product_id);case 8:a=e.sent,t=a.data;case 10:this.setState({product:t});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.product;return e?o.a.createElement("div",{className:"product-details-container"},o.a.createElement("div",{className:"product-details-banner-container"},o.a.createElement("div",{className:"product-detail-img"},o.a.createElement("img",{src:e.image_url})),o.a.createElement("div",{className:"product-detail-header-info"},o.a.createElement("h1",{className:"product-name"},e.name)))):o.a.createElement("div",null)}}]),t}(i.Component),Le=a(37),ze=a(90),Re=a.n(ze),Me=a(22),Pe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).id=0,a.handleChange=function(e){var t=Math.round(e/25);a.setState({value:t}),a.props.onDataChange(a.id,{value:t})},a.highStates={0:Me.e,1:Me.d,2:Me.f,3:Me.c,4:Me.b},a.state={currentState:0,value:a.props.data.value?a.props.data.value:0},a.handleChange=a.handleChange.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.value,t=this.highStates[e];return o.a.createElement("div",{className:"step1-container"},o.a.createElement("div",{className:"step-header"},o.a.createElement("h1",{className:"step-title"},"How high were you?")),o.a.createElement("div",{className:"v-and-h-centered high-state"},o.a.createElement(t,null)),o.a.createElement("div",{className:"slide-container"},o.a.createElement(Re.a,{value:25*e,min:0,max:100,tooltip:!1,labels:{0:"I was not",25:"A little",50:"Normal",75:"Very",100:"Wow"},orientation:"horizontal",onChange:this.handleChange})))}}]),t}(i.Component),He=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).id=1,a.handleChange=function(e){a.setState({value:e}),a.props.onDataChange(a.id,{value:e})},a.state={value:a.props.data.value?a.props.data.value:0},a.handleChange=a.handleChange.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.value,t="rgba(255, 0, 0,"+e/100+")";return o.a.createElement("div",{className:"step2-container"},o.a.createElement("div",{className:"step-header"},o.a.createElement("h1",{className:"step-title"},"How red were your eyes?")),o.a.createElement("div",{className:"eyes v-and-h-centered"},o.a.createElement("div",{className:"eye left-eye",style:{background:t}},o.a.createElement("div",{className:"ball"},o.a.createElement("div",{className:"pupille"}))),o.a.createElement("div",{className:"eye",style:{background:t}},o.a.createElement("div",{className:"ball"},o.a.createElement("div",{className:"pupille"})))),o.a.createElement("div",{className:"slide-container"},o.a.createElement(Re.a,{value:e,min:0,max:100,tooltip:!1,labels:{0:"0%",20:"20%",40:"40%",60:"60%",80:"80%",100:"100%"},orientation:"horizontal",onChange:this.handleChange})))}}]),t}(i.Component),Be=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).id=2,a.effects=["Sleepy","Creative","Energetic","Euphoric","Focused","Happy","Anxious","Hungry","Dry eye","Dry mouth","Headache","Paranoid"],a.state={additonalEffect:"",commonEffects:a.props.data.commonEffects?a.props.data.commonEffects:[],addedEffects:a.props.data.addedEffects?a.props.data.addedEffects:[]},a.handleChange=a.handleChange.bind(Object(k.a)(Object(k.a)(a))),a.addCommonEffect=a.addCommonEffect.bind(Object(k.a)(Object(k.a)(a))),a.addAdditionalEffect=a.addAdditionalEffect.bind(Object(k.a)(Object(k.a)(a))),a.removeAdditionalEffect=a.removeAdditionalEffect.bind(Object(k.a)(Object(k.a)(a))),a.handleAdditonalEffectChange=a.handleAdditonalEffectChange.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"addCommonEffect",value:function(e){var t=this.state.commonEffects,a=e.currentTarget.getAttribute("data-name"),n=t.indexOf(a);n>-1?t.splice(n,1):t.push(a),this.setState({commonEffects:t}),this.handleChange()}},{key:"addAdditionalEffect",value:function(e){var t=this.state.additonalEffect,a=this.state.addedEffects;""!==t.trim()&&-1===this.state.commonEffects.indexOf(t)&&-1===a.indexOf(t)&&(a.push(t),this.setState({addedEffects:a,additonalEffect:""},function(){this.handleChange()}))}},{key:"removeAdditionalEffect",value:function(e){var t=this.state.addedEffects,a=t.indexOf(e.currentTarget.getAttribute("data-name"));a>-1&&t.splice(a,1),this.setState({addedEffects:t},function(){this.handleChange()})}},{key:"handleAdditonalEffectChange",value:function(e){this.setState({additonalEffect:e.currentTarget.value})}},{key:"handleChange",value:function(){this.props.onDataChange(this.id,{commonEffects:this.state.commonEffects,addedEffects:this.state.addedEffects})}},{key:"render",value:function(){var e=this,t=this.state,a=t.additonalEffect,n=t.addedEffects,r=t.commonEffects,c=this.effects.map(function(t){return o.a.createElement("span",{key:t,"data-name":t,onClick:e.addCommonEffect,className:"tag is-info is-large common-effect "+(r.indexOf(t)>-1?"selected-effect":"")},t)}),s=n.map(function(t){return o.a.createElement("span",{key:t,className:"tag is-info is-large common-effect"},t,o.a.createElement("button",{"data-name":t,onClick:e.removeAdditionalEffect,className:"delete"}))});return o.a.createElement("div",{className:"step3-container"},o.a.createElement("div",{className:"step-header"},o.a.createElement("h1",{className:"step-title"},"What effects did you feel?")),o.a.createElement("div",{className:"common-effects"},c),o.a.createElement("div",{className:"add-more-effects"},o.a.createElement("div",{className:"pl-input-container v-and-h-centered"},o.a.createElement("input",{type:"text",className:"pl-input",value:a,onChange:this.handleAdditonalEffectChange,placeholder:"Add other effect"}),o.a.createElement("a",{className:"search-btn v-and-h-centered",onClick:this.addAdditionalEffect},o.a.createElement("div",{className:"b-input-icon-wrapper v-and-h-centered"},o.a.createElement(Me.a,null)))),o.a.createElement("div",{className:"additional-effects-container"},s)))}}]),t}(i.Component),qe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).id=3,a.flavors=["Apple","Blueberry","Tangerine","Mint","Lemon","Tea","Cheese","Berry","Coffee","Orange","Vanilla","Pine","Flowery","Grape"],a.state={additonalFlavor:"",commonFlavors:a.props.data.commonFlavors?a.props.data.commonFlavors:[],addedFlavors:a.props.data.addedFlavors?a.props.data.addedFlavors:[]},a.handleChange=a.handleChange.bind(Object(k.a)(Object(k.a)(a))),a.addCommonFlavor=a.addCommonFlavor.bind(Object(k.a)(Object(k.a)(a))),a.addAdditionalFlavor=a.addAdditionalFlavor.bind(Object(k.a)(Object(k.a)(a))),a.removeAdditionalFlavor=a.removeAdditionalFlavor.bind(Object(k.a)(Object(k.a)(a))),a.handleAdditonalFlavorChange=a.handleAdditonalFlavorChange.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"addCommonFlavor",value:function(e){var t=this.state.commonFlavors,a=e.currentTarget.getAttribute("data-name"),n=t.indexOf(a);n>-1?t.splice(n,1):t.push(a),this.setState({commonFlavors:t},function(){this.handleChange()})}},{key:"addAdditionalFlavor",value:function(e){var t=this.state.additonalFlavor,a=this.state.addedFlavors;""!==t.trim()&&-1===this.state.commonFlavors.indexOf(t)&&-1===a.indexOf(t)&&(a.push(t),this.setState({addedFlavors:a,additonalFlavor:""},function(){this.handleChange()}))}},{key:"removeAdditionalFlavor",value:function(e){var t=this.state.addedFlavors,a=t.indexOf(e.currentTarget.getAttribute("data-name"));a>-1&&t.splice(a,1),this.setState({addedFlavors:t},function(){this.handleChange()})}},{key:"handleAdditonalFlavorChange",value:function(e){this.setState({additonalFlavor:e.currentTarget.value})}},{key:"handleChange",value:function(){this.props.onDataChange(this.id,{commonFlavors:this.state.commonFlavors,addedFlavors:this.state.addedFlavors})}},{key:"render",value:function(){var e=this,t=this.state,a=t.additonalFlavor,n=t.addedFlavors,r=t.commonFlavors,c=this.flavors.map(function(t){return o.a.createElement("span",{key:t,"data-name":t,onClick:e.addCommonFlavor,className:"tag is-info is-large common-flavor "+(r.indexOf(t)>-1?"selected-flavor":"")},t)}),s=n.map(function(t){return o.a.createElement("span",{key:t,className:"tag is-info is-large common-flavor"},t,o.a.createElement("button",{"data-name":t,onClick:e.removeAdditionalFlavor,className:"delete"}))});return o.a.createElement("div",{className:"step4-container"},o.a.createElement("div",{className:"step-header"},o.a.createElement("h1",{className:"step-title"},"What flavors did you taste?")),o.a.createElement("div",{className:"common-flavors"},c),o.a.createElement("div",{className:"add-more-flavors"},o.a.createElement("div",{className:"pl-input-container v-and-h-centered"},o.a.createElement("input",{type:"text",className:"pl-input",value:a,onChange:this.handleAdditonalFlavorChange,placeholder:"Add other flavor"}),o.a.createElement("a",{className:"search-btn v-and-h-centered",onClick:this.addAdditionalFlavor},o.a.createElement("div",{className:"b-input-icon-wrapper v-and-h-centered"},o.a.createElement(Me.a,null)))),o.a.createElement("div",{className:"additional-flavors-container"},s)))}}]),t}(i.Component),Ue=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).id=4,a.state={rating:a.props.data.rating?a.props.data.rating:0,comment:a.props.data.comment?a.props.data.comment:""},a.handleChange=a.handleChange.bind(Object(k.a)(Object(k.a)(a))),a.onRatingChange=a.onRatingChange.bind(Object(k.a)(Object(k.a)(a))),a.onCommentChange=a.onCommentChange.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"onRatingChange",value:function(e,t){console.log(e),this.setState({rating:e},function(){this.handleChange()})}},{key:"onCommentChange",value:function(e){this.setState({comment:e.currentTarget.value},function(){this.handleChange()})}},{key:"handleChange",value:function(){this.props.onDataChange(this.id,{rating:this.state.rating,comment:this.state.comment})}},{key:"render",value:function(){var e=this.state,t=e.comment,a=e.rating;return o.a.createElement("div",{className:"step5-container"},o.a.createElement("div",{className:"step-header"},o.a.createElement("h1",{className:"step-title"},"Tell us your experience?")),o.a.createElement("div",{className:"general-comments"},o.a.createElement("div",{className:"general-rating"},o.a.createElement(B.a,{rating:a,starRatedColor:"gold",starHoverColor:"gold",starDimension:"40px",changeRating:this.onRatingChange,numberOfStars:5,name:"rating"})),o.a.createElement("textarea",{className:"textarea",onChange:this.onCommentChange,value:t,placeholder:"Write a comment..."})))}}]),t}(i.Component),We=function(e){function t(e){var a;Object(n.a)(this,t);var r=(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).props.match.params.id;return a.steps={0:Pe,1:He,2:Be,3:qe,4:Ue},a.state={product_id:r,product:null,currentStep:0,isLoading:!1,data:{0:{},1:{},2:{},3:{},4:{}}},a.changeStep=a.changeStep.bind(Object(k.a)(Object(k.a)(a))),a.onStepDataChange=a.onStepDataChange.bind(Object(k.a)(Object(k.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Q.a)(K.a.mark(function e(){var t,a;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!this.props.location.state){e.next=6;break}t=this.props.location.state.product,e.next=10;break;case 6:return e.next=8,$.get("/api/products/"+this.state.product_id);case 8:a=e.sent,t=a.data;case 10:this.setState({product:t});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"changeStep",value:function(e){var t=this.state.currentStep+parseInt(e.currentTarget.getAttribute("data-change"));if(t>=0&&t<5)this.setState({currentStep:t});else if(5===t){this.setState({isLoading:!0});var a=this.state.data;a.product_id=this.state.product_id,ne(a).then(function(e){window.location.href="/my-account?view=2"})}}},{key:"onStepDataChange",value:function(e,t){var a=this.state.data;a[e]=t,this.setState({data:a})}},{key:"render",value:function(){var e=this.state,t=e.currentStep,a=e.isLoading,n=e.product,r=this.steps[t];return n?o.a.createElement("div",{className:"product-rating-container"},o.a.createElement("div",{className:"rated-product-img-container v-and-h-centered"},o.a.createElement("img",{className:"rated-product-image",src:n.image_url}),o.a.createElement("span",null,n.name)),o.a.createElement("div",{className:"steps-progress"},o.a.createElement(Le.b,{icons:{finish:o.a.createElement(C.b,null)},current:t},o.a.createElement(Le.a,null),o.a.createElement(Le.a,null),o.a.createElement(Le.a,null),o.a.createElement(Le.a,null),o.a.createElement(Le.a,null))),o.a.createElement("div",{className:"product-rating-step-container"},o.a.createElement(r,{data:this.state.data[t],onDataChange:this.onStepDataChange})),o.a.createElement("div",{className:"rating-steps-nav"},o.a.createElement("button",{className:"button bg-color-trans previous","data-change":-1,onClick:this.changeStep},"Previous"),o.a.createElement("button",{className:"button bg-color-trans next "+(a?"is-loading":""),"data-change":1,onClick:this.changeStep},4===t?"Finish":"Next"))):o.a.createElement("div",null)}}]),t}(i.Component),Ge=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement(L,null,function(e){var t=e.authenticated;return o.a.createElement(P,null,o.a.createElement(v.a,null,o.a.createElement(f.a,{exact:!0,path:"/",component:U}),o.a.createElement(f.a,{exact:!0,path:"/products",component:De}),o.a.createElement(f.a,{exact:!0,path:"/product/:id",component:Ie}),o.a.createElement(E.a,{exact:!0,path:"/product/review/:id",redirect:"/authenticate",component:We,isAuthenticated:t}),o.a.createElement(E.a,{path:"/my-account",redirect:"/authenticate",component:Te,isAuthenticated:t}),o.a.createElement(f.a,{component:W})))})}}]),t}(i.Component);d.a.render(o.a.createElement(g.a,null,o.a.createElement(O.a,{clear:!0},o.a.createElement(me,null,o.a.createElement(p.LastLocationProvider,null,o.a.createElement(h.a,{url:"/img/favicon.png"}),o.a.createElement(v.a,null,o.a.createElement(f.a,{exact:!0,path:"/authenticate",component:Ee}),o.a.createElement(f.a,{path:"/",component:Ge})))))),document.getElementById("root"))},35:function(e,t,a){var n=a(214),r={browserHasLocalStorage:function(){try{var e=r.getLocalStorage();return r.testStorage(e)}catch(t){return!1}},getLocalStorage:function(){return localStorage},getCookieStorage:function(){return{getItem:r.storage.get,setItem:function(e,t){r.storage.set(e,t,"2200-01-01T00:00:00.000Z")}}},testStorage:function(e){var t="test-storage";try{return e.setItem(t,t),e.removeItem(t),!0}catch(a){return!1}}};r.storage={set:function(e,t,a){var c={path:"/"};return Date.parse(a)&&(c.expires=new Date(a)),n.set(e,t,c),r.storage.get(e)},get:function(e){return n.get(e)},delete:function(e){return n.remove(e,{path:"/"})}},e.exports.getStorage=function(){return r.browserHasLocalStorage()?r.getLocalStorage():r.getCookieStorage()}},36:function(e,t,a){var n=a(35);e.exports.getAccessToken=function(){return n.getStorage().getItem("access_token")},e.exports.updateAccessToken=function(e){n.getStorage().setItem("access_token",e)},e.exports.getRefreshToken=function(){return n.getStorage().getItem("refresh_token")},e.exports.updateRefreshToken=function(e){return n.getStorage().setItem("refresh_token",e)},e.exports.clearTokens=function(){n.getStorage().setItem("access_token",""),n.getStorage().setItem("refresh_token","")}}},[[178,1,2]]]);
//# sourceMappingURL=main.b4ac7cb3.chunk.js.map