(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,a){e.exports=a(209)},209:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(5),r=a(7),s=a(6),l=a(8),i=a(1),o=a.n(i),u=a(79),m=a.n(u),d=a(110),h=a.n(d),p=a(56),f=a(109),v=a(55),b=a(80),g=a(112),E=a.n(g),N=a(36),O=a.n(N),y=a(45),j=a(19),k=a(37),w=a(3),C=a(113),S=a.n(C),x=a(59),T=a.n(x),D=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).onKeyDown=function(e){27===e.keyCode?a.props.closeCallback(e):13===e.keyCode&&(window.location.href="/products?q="+a.state.search)},a.state={escClose:!1,search:"",hitSearch:!1},a.handleSearch=a.handleSearch.bind(Object(w.a)(Object(w.a)(a))),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"handleSearch",value:function(e){this.setState({search:e.currentTarget.value})}},{key:"render",value:function(){var e=this.props,t=e.isOpen,a=e.closeCallback;return t?document.addEventListener("keydown",this.onKeyDown,!1):document.removeEventListener("keydown",this.onKeyDown,!1),o.a.createElement("div",null,o.a.createElement(S.a,{top:!0,duration:500,when:t},o.a.createElement("div",{id:"search",className:"v-and-h-centered"+(t?" open":"")},o.a.createElement(T.a,{clear:!0,duration:500,when:t},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"fdb-search-bar"},o.a.createElement("div",{className:"v-and-h-centered"},o.a.createElement("input",{type:"text",placeholder:"Search",onChange:this.handleSearch,className:"search-input"})),o.a.createElement(j.a,{className:"close big-btn",onClick:a}),o.a.createElement("span",{className:"search-tip"},"Hit enter to search or esc to close")))))),o.a.createElement(O.a,{clear:!0,duration:500,when:t},o.a.createElement("div",{className:"overlay search-overlay"+(t?"":" hide"),onClick:a})))}}]),t}(i.Component),I=a(114),z=a.n(I),L=Object(i.createContext)({authenticated:null,signup:function(){},login:function(){},logout:function(){}}),_=L.Provider,A=L.Consumer,M=function(e){function t(){var e,a;Object(n.a)(this,t);for(var c=arguments.length,l=new Array(c),i=0;i<c;i++)l[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).onKeyDown=function(e){27===e.keyCode&&a.props.closeCallback(e)},a.onLogoutClick=function(e){a.props.closeCallback(),e()},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.menuOpen,n=t.closeCallback;return a?document.addEventListener("keydown",this.onKeyDown,!1):document.removeEventListener("keydown",this.onKeyDown,!1),o.a.createElement(A,null,function(t){var c=t.authenticated,r=t.logout;return o.a.createElement(z.a,{className:"fdb-drawer-menu",innerClassName:"drawer-menu-inner",outerClassName:"drawer-menu-outer",overlayClassName:"overlay",isOpen:a,transitionTime:.5,width:500,closeCallback:e.props.closeCallback},o.a.createElement(O.a,{clear:!0,when:a},o.a.createElement("div",{className:"drawer-menu-content v-and-h-centered"},o.a.createElement(j.a,{className:"full-pg-close big-btn",onClick:n}),o.a.createElement("div",{className:"menu-items"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(y.a,{to:"/",onClick:n},"Home")),o.a.createElement("li",null,o.a.createElement(y.a,{to:"/products",onClick:n},"SQDC products")),o.a.createElement("li",{role:"separator",className:"divider"})),c?o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(y.a,{to:"/my-account",onClick:n},"My account")),o.a.createElement("li",null,o.a.createElement(y.a,{to:"/",onClick:function(){return e.onLogoutClick(r)}},"Log out"))):o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(y.a,{to:{pathname:"/authenticate",state:{showSignupForm:!0}},onClick:n},"Sign up")),o.a.createElement("li",null,o.a.createElement(y.a,{to:"/authenticate",onClick:n},"Log in")))))))})}}]),t}(i.Component),F=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).toggleSearch=function(e){e.preventDefault(),a.setState({searchOpen:!a.state.searchOpen})},a.toggleMenu=function(e){a.setState({menuOpen:!a.state.menuOpen})},a.state={isSticky:!1,isDown:!1,menuOpen:!1,searchOpen:!1},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll.bind(this),!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll.bind(this))}},{key:"handleScroll",value:function(){0===window.pageYOffset?this.setState({isSticky:!1,isDown:!1}):window.pageYOffset>=250&&(this.state.isSticky?this.setState({isDown:!0}):this.setState({isSticky:!0}))}},{key:"render",value:function(){var e=this.state,t=e.isSticky,a=e.isDown,n=e.menuOpen,c=e.searchOpen;return o.a.createElement("div",{id:"feedbuzz-header"},o.a.createElement("header",{className:"fdb-header"+(t?" sticky":"")+(a?" down":"")},o.a.createElement("nav",{className:"container fdb-navbar",role:"navigation","aria-label":"main navigation"},o.a.createElement("div",{className:"fdb-navbar-items-start"},o.a.createElement("div",{className:"v-and-h-centered fdb-navbar-item"},o.a.createElement("button",{className:"v-and-h-centered",href:"#",onClick:this.toggleMenu},o.a.createElement(j.b,{className:"fdb-navbar-icon"})))),o.a.createElement("div",{className:"fdb-navbar-brand"},o.a.createElement(y.a,{className:"logo",to:"/"},o.a.createElement("img",{src:"img/feedbuzz_logo_small_cropped.png",alt:"FeedBuzz"}))),o.a.createElement("div",{className:"fdb-navbar-items-end"},o.a.createElement("div",{className:"v-and-h-centered fdb-navbar-item"},o.a.createElement(y.a,{className:"v-and-h-centered",to:"",onClick:this.toggleSearch},o.a.createElement(k.a,{className:"fdb-navbar-icon"}))))),o.a.createElement(M,{menuOpen:n,closeCallback:this.toggleMenu})),o.a.createElement(D,{isOpen:c,closeCallback:this.toggleSearch}),o.a.createElement("div",{className:t?"header-spacer":""}))}}]),t}(i.Component),R=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"fdb-footer"},o.a.createElement("h1",{className:"height-teen-tag"},"18+"),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column"},o.a.createElement("h1",{className:"section-title"},"Feedbuzz"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.sqdc.ca"},"SQDC Website")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.sqdc.ca/en-CA/about-the-sqdc/frequently-asked-questions"},"SQDC FAQ")))),o.a.createElement("div",{className:"column"},o.a.createElement("h1",{className:"section-title"},"Menu"),o.a.createElement("div",{className:"footer-menu"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(y.a,{to:"/"},"Home")),o.a.createElement("li",null,o.a.createElement(y.a,{to:"/products"},"SQDC Products"))))),o.a.createElement("div",{className:"column"},o.a.createElement("h1",{className:"section-title"},"Contact"),o.a.createElement("div",{className:"footer-menu"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(y.a,{to:"/"},"Contact us")),o.a.createElement("li",null,o.a.createElement(y.a,{to:"/products"},"About us"))))))))}}]),t}(i.Component),q=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"feedbuzz-master"},o.a.createElement(F,null),o.a.createElement("div",{id:"feedbuzz-body"},this.props.children),o.a.createElement(R,null))}}]),t}(i.Component),B=a(115),H=a.n(B),P=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={product:{img:"img/test-product.png",name:"Blue Dream",rating:4.78,nb_reviews:297,effects:[{name:"Creative",value:50},{name:"Relaxed",value:48},{name:"Energic",value:26},{name:"Focused",value:15}],description:"Blue Dream, a sativa-dominant hybrid originating in California, has achieved legendary status among West Coast strains.",flavors:["Blueberry","Berry","Sweet"],uri:"blue-dream"}},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.product,t=e.flavors.map(function(e){return o.a.createElement("li",{key:e},e)}),a=e.effects.map(function(e){return o.a.createElement("li",{key:e.name},o.a.createElement("div",{className:"v-and-h-centered"},o.a.createElement("h1",{className:"effect-title"},e.name),o.a.createElement("progress",{className:"progress",value:e.value,max:"100"})))});return o.a.createElement("div",{className:"highest-rated-product"},o.a.createElement("div",{className:"has-text-centered"},o.a.createElement("h1",{className:"container-title"},"Highest rated products!")),o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column product-image is-one-quarter"},o.a.createElement(y.a,{to:"/products/"+e.uri},o.a.createElement("img",{className:"image",alt:"product",src:e.img}))),o.a.createElement("div",{className:"column"},o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column v-and-h-centered product-header"},o.a.createElement(y.a,{to:"/products/"+e.uri},o.a.createElement("h1",{className:"product-title"},e.name)),o.a.createElement("div",{className:"product-rating"},o.a.createElement(H.a,{rating:2.403,starRatedColor:"gold",starDimension:"25px",starSpacing:""})),o.a.createElement("h1",{className:"product-reviews"},e.nb_reviews," reviews"))),o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column is-one-fifth"},o.a.createElement("h1",{className:"product-flavor-title section-title"},"Flavors"),o.a.createElement("ul",{className:"product-flavors"},t)),o.a.createElement("div",{className:"column"},o.a.createElement("h1",{className:"product-effect-title section-title"},"Common effects"),o.a.createElement("ul",{className:"product-effects"},a)),o.a.createElement("div",{className:"column"},o.a.createElement("h1",{className:"product-effect-title section-title"},"Description"),o.a.createElement("p",null,e.description))))))}}]),t}(i.Component),U=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={search_term:""},a.handleSearchChange=a.handleSearchChange.bind(Object(w.a)(Object(w.a)(a))),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"handleSearchChange",value:function(e){this.setState({search_term:e.currentTarget.value})}},{key:"render",value:function(){var e="/products?q="+this.state.search_term;return o.a.createElement("div",{className:"home-page-content"},o.a.createElement("div",{className:"hero banner v-and-h-centered"},o.a.createElement("h1",{className:"home-banner-title"},"Find SQDC's products you loved and rate them!"),o.a.createElement(T.a,{clear:!0},o.a.createElement("div",{className:"home-banner-input-container v-and-h-centered"},o.a.createElement("input",{type:"text",className:"home-banner-input",onChange:this.handleSearchChange,placeholder:"What are you looking for?"}),o.a.createElement(y.a,{className:"search-btn v-and-h-centered",to:e},o.a.createElement("div",{className:"b-input-icon-wrapper v-and-h-centered"},o.a.createElement(k.a,{className:"fdb-navbar-icon"}))))),o.a.createElement("h1",{className:"home-banner-title spacer"},"spacer")),o.a.createElement("div",{className:"highest-rated-product-container container"},o.a.createElement(P,null)),o.a.createElement("div",{className:"all-products"},o.a.createElement(y.a,{to:"/products",className:"button bg-color-trans"},"View all products")))}}]),t}(i.Component),W=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("h1",null,"Page not found for : ",this.props.location.pathname)}}]),t}(i.Component),K=a(116),Q=a(9),G=a.n(Q),J=a(14),Y=a(140),V=a(38),Z=Y.create();Z.defaults.baseURL=window.baseURL,Z.defaults.headers.post["Content-Type"]="application/json",V.getAccessToken()&&(Z.defaults.headers.common.Authorization="Bearer "+V.getAccessToken());var X=function(e){e?Z.defaults.headers.common.Authorization="Bearer "+e:delete Y.defaults.headers.common.Authorization};function $(){return ee.apply(this,arguments)}function ee(){return(ee=Object(J.a)(G.a.mark(function e(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.get("/auth/verify").catch(function(){var e=Object(J.a)(G.a.mark(function e(t){var a;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("InvalidToken"!==t.response.data.exception){e.next=6;break}return e.next=3,Z.post("/auth/refresh",{refresh_token:V.getRefreshToken()});case 3:a=e.sent,V.updateAccessToken(a.data.access_token),X(V.getAccessToken());case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var te=function(){var e=Object(J.a)(G.a.mark(function e(){var t;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:return e.next=4,Z.get("/auth/me");case 4:return t=e.sent,e.abrupt("return",t.data.me);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ae=a(38),ne=a.n(ae),ce=a(39),re=a.n(ce),se=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(r.a)(this,Object(s.a)(t).call(this,e));var c=re.a.getStorage().getItem("usr_info");return a.state=c?{authenticated:a.isAuthenticated(),user:JSON.parse(c)}:{authenticated:!1},a.checkAuthentication=a.checkAuthentication.bind(Object(w.a)(Object(w.a)(a))),a.login=a.login.bind(Object(w.a)(Object(w.a)(a))),a.signup=a.signup.bind(Object(w.a)(Object(w.a)(a))),a.logout=a.logout.bind(Object(w.a)(Object(w.a)(a))),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"checkAuthentication",value:function(){var e=Object(J.a)(G.a.mark(function e(){var t,a;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.isAuthenticated())===this.state.authenticated){e.next=7;break}return e.next=4,te();case 4:a=e.sent,re.a.getStorage().setItem("usr_info",JSON.stringify(a)),this.setState({authenticated:t,user:a});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(J.a)(G.a.mark(function e(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAuthentication();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(J.a)(G.a.mark(function e(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAuthentication();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isAuthenticated",value:function(){return!!ne.a.getAccessToken()}},{key:"login",value:function(){var e=Object(J.a)(G.a.mark(function e(t,a){var n,c,r,s;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post("/auth",{email:t,password:a});case 2:if(n=e.sent,c=n.data.access_token,r=n.data.refresh_token,!c||!r){e.next=14;break}return X(c),ne.a.updateAccessToken(c),ne.a.updateRefreshToken(r),e.next=11,te();case 11:s=e.sent,re.a.getStorage().setItem("usr_info",JSON.stringify(s)),this.setState({authenticated:!0,user:s});case 14:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(J.a)(G.a.mark(function e(t,a,n,c){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post("/api/user/signup",{email:n,username:a,password:c});case 2:e.sent.data.success&&this.login(n,c);case 4:case"end":return e.stop()}},e,this)}));return function(t,a,n,c){return e.apply(this,arguments)}}()},{key:"logout",value:function(){X(""),ne.a.clearTokens(),re.a.getStorage().setItem("usr_info",null),this.setState({authenticated:!1})}},{key:"render",value:function(){var e=Object(K.a)({},this.state,{login:this.login,signup:this.signup,logout:this.logout});return o.a.createElement(_,{value:e},this.props.children)}}]),t}(i.Component),le=a(108),ie=a(20),oe=a(117),ue=a.n(oe),me=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).evaluatePWStrenght=function(e){var t=e.currentTarget.value;a.setState({score:""===t?"null":ue()(t).score}),a.props.onChange(e)},a.onShowHide=function(e){var t=a.state.type;a.setState({type:"input"===t?"password":"input"})},a.renderStrengthBar=function(){return a.props.pwStrength?o.a.createElement("span",{className:"pw-input-strength","data-score":a.state.score}):""},a.state={type:"password",score:"null"},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,a=e.name,n=e.value;return o.a.createElement("div",{className:"sh-pw-input-container field"},o.a.createElement("div",{className:"control"},o.a.createElement("input",{name:a,type:this.state.type,placeholder:t||"password",value:n,className:"input",onChange:this.evaluatePWStrenght}),o.a.createElement("div",{className:"sh-icon-wrapper v-and-h-centered",onClick:this.onShowHide},o.a.createElement("span",{className:"icon pw-input-show bg-color-trans"},"input"===this.state.type?o.a.createElement(j.c,null):o.a.createElement(j.d,null)))),this.renderStrengthBar())}}]),t}(i.Component),de=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={email:"",password:"",error:""},a.handleSubmit=a.handleSubmit.bind(Object(w.a)(Object(w.a)(a))),a.handleChange=a.handleChange.bind(Object(w.a)(Object(w.a)(a))),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(ie.a)({},e.currentTarget.name,e.currentTarget.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.email,n=t.password;a&&n&&this.props.handleLogin(a,n)}},{key:"render",value:function(){return o.a.createElement("div",{className:"login-form-container has-text-centered"},o.a.createElement("h3",{className:"title is-4"},"Log into Feedbuzz to start giving feedback"),o.a.createElement("div",{className:"link"},o.a.createElement(y.a,{to:"",onClick:this.props.onSwitch},"Don't have an account?")),o.a.createElement("form",{className:"auth-form",onSubmit:this.handleSubmit},o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("input",{className:"input",type:"text",name:"email",placeholder:"Email",onChange:this.handleChange}))),o.a.createElement(me,{pwStrength:!1,name:"password",onChange:this.handleChange}),o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("button",{className:"button bg-color-trans",type:"submit"},"Log in")))),o.a.createElement("div",{className:"link"},o.a.createElement(y.a,{to:"/forgot-password"},"Forgot your password?")))}}]),t}(i.Component),he=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(ie.a)({},e.currentTarget.name,e.currentTarget.value))},a.state={name:"",username:"",email:"",password:"",confirmpassword:"",error:""},a.handleSubmit=a.handleSubmit.bind(Object(w.a)(Object(w.a)(a))),a.handleChange=a.handleChange.bind(Object(w.a)(Object(w.a)(a))),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.name,n=t.username,c=t.email,r=t.password,s=t.confirmpassword;a&&n&&c&&r&&s&&r===s&&this.props.handleSignup(a,n,c,r)}},{key:"render",value:function(){return o.a.createElement("div",{className:"signup-form-container has-text-centered"},o.a.createElement("h3",{className:"title is-4"},"Create your Feedbuzz account to start giving feedback!"),o.a.createElement("div",{className:"link"},o.a.createElement(y.a,{to:"",onClick:this.props.onSwitch},"Already have an account?")),o.a.createElement("form",{className:"auth-form",onSubmit:this.handleSubmit},o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("input",{className:"input",type:"text",name:"name",placeholder:"Name",onChange:this.handleChange}))),o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("input",{className:"input",type:"text",name:"username",placeholder:"Username",onChange:this.handleChange}))),o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("input",{className:"input",type:"text",name:"email",placeholder:"Email",onChange:this.handleChange}))),o.a.createElement(me,{pwStrength:!0,name:"password",onChange:this.handleChange}),o.a.createElement(me,{pwStrength:!0,name:"confirmpassword",onChange:this.handleChange,placeholder:"Confirm password"}),o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("button",{className:"button bg-color-trans",type:"submit"},"Register")))))}}]),t}(i.Component),pe=function(e){function t(e){var a;Object(n.a)(this,t);var c=!0;return(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).props.location.state&&a.props.location.state.showSignupForm&&(c=!1),a.state={showLoginForm:c,closed:!1},a.onSwitch=a.onSwitch.bind(Object(w.a)(Object(w.a)(a))),a.onClose=a.onClose.bind(Object(w.a)(Object(w.a)(a))),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"onSwitch",value:function(e){e.preventDefault(),e.nativeEvent.stopImmediatePropagation();var t=this.state.showLoginForm;this.setState({showLoginForm:!t})}},{key:"onClose",value:function(e){this.setState({closed:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.showLoginForm,n=t.closed,c=this.props.lastLocation?this.props.lastLocation:{pathname:"/"};return o.a.createElement(A,null,function(t){var r=t.authenticated,s=t.login,l=t.signup;return r||n?o.a.createElement(le.a,{to:r?c.pathname:"/"}):o.a.createElement("div",{className:"auth-content section"},o.a.createElement("div",{className:"header has-text-centered"},o.a.createElement(y.a,{to:"/"},o.a.createElement("img",{className:"feedbuzz-icon",alt:"Feedbuzz",src:"img/feedbuzz_logo_small_cropped.png"})),o.a.createElement(j.a,{className:"full-pg-close big-btn bg-color-trans",onClick:e.onClose})),a?o.a.createElement(de,{onSwitch:e.onSwitch,handleLogin:s}):o.a.createElement(he,{onSwitch:e.onSwitch,handleSignup:l}))})}}]),t}(i.Component),fe=Object(p.withLastLocation)(pe),ve=a(121),be=function(e){function t(e){return Object(n.a)(this,t),Object(r.a)(this,Object(s.a)(t).call(this,e))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"section-title"},"Favorites")}}]),t}(i.Component),ge=function(e){function t(e){return Object(n.a)(this,t),Object(r.a)(this,Object(s.a)(t).call(this,e))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"section-title"},"My Reviews")}}]),t}(i.Component),Ee=a(60),Ne=a.n(Ee),Oe={NotificationItem:{DefaultStyle:{margin:"10px 5px 2px 1px"},success:{borderTop:"2px solid #20bd67",color:"white",backgroundColor:"#20bd67"}},Title:{success:{color:"white"}}},ye=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={name:"",username:"",email:"",gender:"",loading:!1},a.notificationSystem=o.a.createRef(),a.addNotification=a.addNotification.bind(Object(w.a)(Object(w.a)(a))),a.handleSave=a.handleSave.bind(Object(w.a)(Object(w.a)(a))),a.handleInputChange=a.handleInputChange.bind(Object(w.a)(Object(w.a)(a))),a.handleGenderChange=a.handleGenderChange.bind(Object(w.a)(Object(w.a)(a))),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this._notificationSystem=this.refs.notificationSystem}},{key:"addNotification",value:function(){this.notificationSystem.current.addNotification({title:"Success",message:"Your profile was successfully updated!",level:"success",dismissible:!1})}},{key:"handleInputChange",value:function(e){this.setState(Object(ie.a)({},e.currentTarget.name,e.currentTarget.value))}},{key:"handleGenderChange",value:function(e){this.setState({gender:e.currentTarget.value})}},{key:"handleSave",value:function(e){this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1}),this.addNotification()}.bind(this),2e3)}},{key:"render",value:function(){var e=this;return o.a.createElement(A,null,function(t){var a=t.user,n=e.state,c=n.name,r=n.username,s=n.email,l=n.gender,i=n.loading;return o.a.createElement("div",{className:"my-profile"},o.a.createElement(Ne.a,{ref:e.notificationSystem,style:Oe}),o.a.createElement("div",{className:"section-title"},"My Profile"),o.a.createElement("div",{className:"field is-horizontal"},o.a.createElement("div",{className:"field-label is-normal"},o.a.createElement("label",{className:"label"},"Name")),o.a.createElement("div",{className:"field-body"},o.a.createElement("div",{className:"field"},o.a.createElement("p",{className:"control"},o.a.createElement("input",{className:"input",onChange:e.handleInputChange,type:"text",name:"name",value:""===c?a.first_name+" "+a.last_name:c,placeholder:"Name"}))))),o.a.createElement("div",{className:"field is-horizontal"},o.a.createElement("div",{className:"field-label is-normal"},o.a.createElement("label",{className:"label"},"Username")),o.a.createElement("div",{className:"field-body"},o.a.createElement("div",{className:"field"},o.a.createElement("p",{className:"control"},o.a.createElement("input",{className:"input",value:""===r?a.username:r,onChange:e.handleInputChange,type:"text",name:"username",placeholder:"Username"}))))),o.a.createElement("div",{className:"field is-horizontal"},o.a.createElement("div",{className:"field-label is-normal"},o.a.createElement("label",{className:"label"},"Email")),o.a.createElement("div",{className:"field-body"},o.a.createElement("div",{className:"field"},o.a.createElement("p",{className:"control"},o.a.createElement("input",{className:"input",onChange:e.handleInputChange,type:"text",name:"email",value:""===s?a.email:s,placeholder:"Email"}))))),o.a.createElement("div",{className:"field is-horizontal"},o.a.createElement("div",{className:"field-label is-normal"},o.a.createElement("label",{className:"label"},"Gender")),o.a.createElement("div",{className:"field-body"},o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("div",{className:"select"},o.a.createElement("select",{value:""===l?"Male":l,onChange:e.handleGenderChange},o.a.createElement("option",null,"Male"),o.a.createElement("option",null,"Female"),o.a.createElement("option",null,"Other"))))))),o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control is-clearfix"},o.a.createElement("button",{className:"button bg-color-trans "+(i?"is-loading":""),onClick:e.handleSave,type:"save"},"Save"))))})}}]),t}(i.Component),je=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={password:"",newpassword:"",confirmpassword:"",loading:!1},a.notificationSystem=o.a.createRef(),a.handleSave=a.handleSave.bind(Object(w.a)(Object(w.a)(a))),a.addNotification=a.addNotification.bind(Object(w.a)(Object(w.a)(a))),a.handleInputChange=a.handleInputChange.bind(Object(w.a)(Object(w.a)(a))),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this._notificationSystem=this.refs.notificationSystem}},{key:"addNotification",value:function(){this.notificationSystem.current.addNotification({title:"Success",message:"Your password was successfully updated!",level:"success",dismissible:!1})}},{key:"handleInputChange",value:function(e){this.setState(Object(ie.a)({},e.currentTarget.name,e.currentTarget.value))}},{key:"handleSave",value:function(e){this.setState({loading:!0}),setTimeout(function(){this.setState({loading:!1}),this.addNotification()}.bind(this),2e3)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.password,n=e.newpassword,c=e.confirmpassword;return o.a.createElement("div",{className:"my-settings"},o.a.createElement(Ne.a,{ref:this.notificationSystem,style:Oe}),o.a.createElement("div",{className:"section-title"},"My Settings"),o.a.createElement("div",{className:"setting-pw-change"},o.a.createElement("div",{className:"sub-section-title"},"Change my password"),o.a.createElement("div",{className:"field is-horizontal"},o.a.createElement("div",{className:"field-label is-normal"},o.a.createElement("label",{className:"label"},"Current password")),o.a.createElement("div",{className:"field-body"},o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement(me,{pwStrength:!1,name:"password",value:a,onChange:this.handleInputChange}))))),o.a.createElement("div",{className:"field is-horizontal"},o.a.createElement("div",{className:"field-label is-normal"},o.a.createElement("label",{className:"label"},"New password")),o.a.createElement("div",{className:"field-body"},o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement(me,{pwStrength:!1,name:"newpassword",value:n,onChange:this.handleInputChange}))))),o.a.createElement("div",{className:"field is-horizontal"},o.a.createElement("div",{className:"field-label is-normal"},o.a.createElement("label",{className:"label"},"Confirm password")),o.a.createElement("div",{className:"field-body"},o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement(me,{pwStrength:!1,name:"confirmpassword",value:c,onChange:this.handleInputChange}))))),o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control is-clearfix"},o.a.createElement("button",{className:"button bg-color-trans "+(t?"is-loading":""),onClick:this.handleSave,type:"save"},"Update my password")))))}}]),t}(i.Component),ke=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).menuItems=[{title:"My profile",component:1},{title:"My favorites",component:2},{title:"My reviews",component:3},{title:"My Settings",component:4}],a.state={component:1},a.getCurrentSectionComponent=a.getCurrentSectionComponent.bind(Object(w.a)(Object(w.a)(a))),a.handleSectionChange=a.handleSectionChange.bind(Object(w.a)(Object(w.a)(a))),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"getCurrentSectionComponent",value:function(){switch(this.state.component){case 1:return o.a.createElement(ye,null);case 2:return o.a.createElement(be,null);case 3:return o.a.createElement(ge,null);case 4:return o.a.createElement(je,null);default:return o.a.createElement(ye,null)}}},{key:"handleSectionChange",value:function(e){this.setState({component:parseInt(e.currentTarget.getAttribute("data-component-id"))})}},{key:"render",value:function(){var e=this,t=this.state.component,a=this.menuItems.map(function(a){return o.a.createElement("li",{key:a.title,className:"account-menu-item "+(t===a.component?"active":""),"data-component-id":a.component,onClick:e.handleSectionChange},a.title)});return o.a.createElement("div",{className:"my-account-container container"},o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column is-one-third"},o.a.createElement(ve.a,{round:!0,src:"img/favicon.svg"}),o.a.createElement("ul",{className:"account-menu"},a)),o.a.createElement("div",{className:"column section-container"},this.getCurrentSectionComponent())))}}]),t}(i.Component),we=a(120),Ce=a.n(we),Se=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(r.a)(this,Object(s.a)(t).call(this,e));var c=Ce.a.parse(a.props.location.search);return a.state={search:void 0===c.q?"":c.q,changed:!1,data:[]},a.handleSearch=a.handleSearch.bind(Object(w.a)(Object(w.a)(a))),a.searchChange=a.searchChange.bind(Object(w.a)(Object(w.a)(a))),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(J.a)(G.a.mark(function e(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.state.search?this.fetch(this.state.search):this.fetchAll();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSearch",value:function(e){this.state.changed&&this.fetch(this.state.search)}},{key:"fetchAll",value:function(){var e=Object(J.a)(G.a.mark(function e(){var t;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("/api/products/all");case 2:t=e.sent,this.setState({data:t.data});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetch",value:function(){var e=Object(J.a)(G.a.mark(function e(t){var a;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("/api/products/find/"+t);case 2:a=e.sent,this.setState({changed:!1,data:a.data});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"searchChange",value:function(e){this.setState({search:e.currentTarget.value,changed:!0})}},{key:"render",value:function(){var e=this.state,t=e.search,a=e.data,n="/products?q="+t;return console.log(a),o.a.createElement("div",{className:"product-listing-container container"},o.a.createElement("div",{className:"pl-input-container v-and-h-centered"},o.a.createElement("input",{type:"text",className:"pl-input",placeholder:"What are you looking for?",onChange:this.searchChange,value:t}),o.a.createElement(y.a,{className:"search-btn v-and-h-centered",to:n,onClick:this.handleSearch},o.a.createElement("div",{className:"b-input-icon-wrapper v-and-h-centered"},o.a.createElement(k.a,{className:"fdb-navbar-icon"})))))}}]),t}(i.Component),xe=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(A,null,function(e){var t=e.authenticated;return console.log(t),o.a.createElement(q,null,o.a.createElement(f.a,null,o.a.createElement(v.a,{exact:!0,path:"/",component:U}),o.a.createElement(v.a,{path:"/products",component:Se}),o.a.createElement(E.a,{path:"/my-account",redirect:"/authenticate",component:ke,isAuthenticated:t}),o.a.createElement(v.a,{component:W})))})}}]),t}(i.Component);m.a.render(o.a.createElement(b.a,null,o.a.createElement(O.a,{clear:!0},o.a.createElement(se,null,o.a.createElement(p.LastLocationProvider,null,o.a.createElement(h.a,{url:"/img/favicon.png"}),o.a.createElement(f.a,null,o.a.createElement(v.a,{exact:!0,path:"/authenticate",component:fe}),o.a.createElement(v.a,{path:"/",component:xe})))))),document.getElementById("root"))},38:function(e,t,a){var n=a(39);e.exports.getAccessToken=function(){return n.getStorage().getItem("access_token")},e.exports.updateAccessToken=function(e){n.getStorage().setItem("access_token",e)},e.exports.getRefreshToken=function(){return n.getStorage().getItem("refresh_token")},e.exports.updateRefreshToken=function(e){return n.getStorage().setItem("refresh_token",e)},e.exports.clearTokens=function(){n.getStorage().setItem("access_token",""),n.getStorage().setItem("refresh_token","")}},39:function(e,t,a){var n=a(160),c={browserHasLocalStorage:function(){try{var e=c.getLocalStorage();return c.testStorage(e)}catch(t){return!1}},getLocalStorage:function(){return localStorage},getCookieStorage:function(){return{getItem:c.storage.get,setItem:function(e,t){c.storage.set(e,t,"2200-01-01T00:00:00.000Z")}}},testStorage:function(e){var t="test-storage";try{return e.setItem(t,t),e.removeItem(t),!0}catch(a){return!1}}};c.storage={set:function(e,t,a){var r={path:"/"};return Date.parse(a)&&(r.expires=new Date(a)),n.set(e,t,r),c.storage.get(e)},get:function(e){return n.get(e)},delete:function(e){return n.remove(e,{path:"/"})}},e.exports.getStorage=function(){return c.browserHasLocalStorage()?c.getLocalStorage():c.getCookieStorage()}}},[[122,1,2]]]);
//# sourceMappingURL=main.eeeab213.chunk.js.map